{"version":3,"sources":["components/Header.js","components/Footer.js","components/Preloader.js","components/GoodsItem.js","components/GoodsList.js","components/Cart.js","components/CartItem.js","components/CartList.js","components/Alert.js","components/Shop.js","config.js","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","Preloader","class","GoodsItem","props","mainId","displayName","displayDescription","addToCart","price","finalPrice","src","displayAssets","background","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Cart","quantity","handleCartShow","CartItem","removeFromCart","changeQuantity","CartList","order","totalPrice","reduce","sum","el","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isCartShow","setCartShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","n","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ab335e6.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <nav className=\"cyan\">\r\n      <div className=\"nav-wrapper\">\r\n        <a href=\"/\" className=\"brand-logo\">\r\n          Fortnite Shop\r\n        </a>\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          <li>\r\n            <a href=\"https://github.com/AnthonyGr/fortnite-shop--udemy-course--react\" target=\"_blank\" rel=\"noreferrer\">\r\n              Repo\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"page-footer cyan\">\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container\">\r\n          © {new Date().getFullYear()} Fortnite Shop\r\n          <a\r\n            className=\"grey-text text-lighten-4 right\"\r\n            href=\"https://github.com/AnthonyGr/fortnite-shop--udemy-course--react\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Repo\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function Preloader() {\r\n  return (\r\n    <div class=\"progress\">\r\n      <div class=\"indeterminate\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preloader;\r\n","function GoodsItem(props) {\r\n  // TODO: Переписать деструктуризацию!\r\n  const { mainId, displayName, displayDescription, addToCart } = props;\r\n  const price = props.price.finalPrice;\r\n\r\n  return (\r\n    <div className=\"card\" id={mainId}>\r\n      <div className=\"card-image\">\r\n        <img src={props.displayAssets[0].background} alt={displayName} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <span className=\"card-title\">{displayName}</span>\r\n        <p>{displayDescription}</p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button className=\"btn\" onClick={() => addToCart({ mainId, displayName, price })}>\r\n          Купить\r\n        </button>\r\n        <span className=\"right\" style={{ fontSize: '1.6rem' }}>\r\n          {price} руб.\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoodsItem;\r\n","import GoodsItem from './GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n  const { goods = [], addToCart } = props;\r\n\r\n  if (!goods.length) {\r\n    return <h3>Nothing here</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"goods\">\r\n      {goods.map((item) => (\r\n        <GoodsItem key={item.id} {...item} addToCart={addToCart} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoodsList;\r\n","function Cart(props) {\r\n  const { quantity = 0, handleCartShow } = props;\r\n\r\n  return (\r\n    <div className=\"cart blue darken-2 white-text\" onClick={handleCartShow}>\r\n      <i className=\"material-icons\">shopping_cart</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","function CartItem(props) {\r\n  const { mainId, displayName, quantity, price, removeFromCart, changeQuantity } = props;\r\n  return (\r\n    <li class=\"collection-item\">\r\n      {displayName} x{' '}\r\n      <i className=\"material-icons basket-quantity\" onClick={() => changeQuantity(-1, mainId)}>\r\n        remove\r\n      </i>\r\n      {quantity}\r\n      <i className=\"material-icons basket-quantity\" onClick={() => changeQuantity(1, mainId)}>\r\n        add\r\n      </i>{' '}\r\n      = {price * quantity}\r\n      <span class=\"secondary-content\">\r\n        <i class=\"material-icons basket-delete\" onClick={() => removeFromCart(mainId)}>\r\n          close\r\n        </i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n","import CartItem from './CartItem';\r\n\r\nfunction CartList(props) {\r\n  const { order = [], handleCartShow, removeFromCart, changeQuantity } = props;\r\n\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price * el.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul class=\"collection cart-list\">\r\n      <li class=\"collection-item active\">Корзина:</li>\r\n      {order.length ? (\r\n        order.map((item) => (\r\n          <CartItem key={item.mainId} removeFromCart={removeFromCart} changeQuantity={changeQuantity} {...item} />\r\n        ))\r\n      ) : (\r\n        <li class=\"collection-item\">Корзина пуста</li>\r\n      )}\r\n      <li class=\"collection-item active\">\r\n        Общая стоимость: {totalPrice}\r\n        <button className=\"secondary-content btn-small\">Оформить</button>\r\n      </li>\r\n      <i class=\"material-icons basket-close\" onClick={handleCartShow}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default CartList;\r\n","import { useEffect } from 'react';\r\n\r\nfunction Alert(props) {\r\n  const { name, closeAlert } = props;\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [name]);\r\n\r\n  return (\r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\">{name} добавлен в корзину</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Alert;\r\n","import { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\n\r\nimport Preloader from './Preloader';\r\nimport GoodsList from './GoodsList';\r\nimport Cart from './Cart';\r\nimport CartList from './CartList';\r\nimport Alert from './Alert';\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isCartShow, setCartShow] = useState(false);\r\n  const [alertName, setAlertName] = useState('');\r\n\r\n  function addToCart(item) {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.mainId === item.mainId);\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n      setOrder(newOrder);\r\n    }\r\n    setAlertName(item.displayName);\r\n  }\r\n\r\n  function changeQuantity(n, itemId) {\r\n    const newOrder = order.map((orderItem) => {\r\n      if (orderItem.mainId === itemId) {\r\n        const newQuantity = orderItem.quantity + n;\r\n        return {\r\n          ...orderItem,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return orderItem;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  }\r\n\r\n  function removeFromCart(itemId) {\r\n    const newOrder = order.filter((el) => el.mainId !== itemId);\r\n    setOrder(newOrder);\r\n  }\r\n\r\n  const handleCartShow = () => {\r\n    setCartShow(!isCartShow);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('');\r\n  };\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      //Проверяем, что ответ пришел и сохраняем в goods\r\n      .then((data) => {\r\n        data.shop && setGoods(data.shop);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container content\">\r\n      <Cart quantity={order.length} handleCartShow={handleCartShow} />\r\n      {loading ? <Preloader /> : <GoodsList goods={goods} addToCart={addToCart} />}\r\n      {isCartShow && (\r\n        <CartList\r\n          order={order}\r\n          handleCartShow={handleCartShow}\r\n          removeFromCart={removeFromCart}\r\n          changeQuantity={changeQuantity}\r\n        />\r\n      )}\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import Header from './components/Header';\nimport Footer from './components/Footer';\nimport Shop from './components/Shop';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}